<event name=image removeall>
<event name=image file="skype.jpg" x=0 y=0 put>
<event name=image file="dialogbox.png" x=20 y=320 put>
<event name=bgm file="machi.mp3" volume=0.3 play>
ぴんぽこぴーん。
ダイアログフレームのマジ簡単なチュートリアルを行います。

いまかいたよーーーーー

このチュートリアルはDialogFrameConfig.pyが
しかるべき場合に展開されます。
自前のダイアログが実行されないときは、Configの場所と
メインテキストを確認してね。

<event name=image file="lecturer.png" x=400 y=200 put>
【せんせー】
はろー。
じゃあマジ簡単なチュートリアルをはじめますよ。

<event name=image file="pupil.png" x=180 y=220 put>
【こども】
はいせんせー。
いきなりウィンドウが閉じることがあるんですけど。

【せんせー】
logフォルダの中のerror.txtを見たら原因がわかるかもね。
でもぶっちゃけわかんねーだろーからerror.txtを
作者に送りつけてなんとかしてもらいなさい。

【こども】
うぃーす。せんせー。
自分のダイアログはどーやって作り始めたらいいんすか？

【せんせー】
まずdataフォルダを開いて、
cassette-DialogFrameTutorialをコピーしてね。
ペーストしたら好きな名前にしてちょうだい。
そのフォルダ……カセットって呼ぶんだけど、
それを改造していくのがオリジナルダイアログ作りとなるよ。

【せんせー】
とりあえずmaintextフォルダの中に
新しいtxtファイルを作んなさい。

【こども】
作ったよせんせー。
カセット名はcassette-ore
maintextは おれのてきすと.txt って名前にしてみたよ。

【せんせー】
したら DialogFrameConfig.py を開きんさい。
あ、このチュートリアルを見てるってことは
そのファイルがないかもしんないから、
otherフォルダの中から出して
DialogFrame.exeと同じフォルダに置いてね。

【こども】
開いたよせんせー。

【せんせー】
「cassette」って項目を探してみんさい。
ほんでそこにカセット名を書く。

【こども】
cassette = 'cassette-ore'
って書いたよせんせー。

【せんせー】
「maintextName」って項目を探してみんさい。
ほんでそこに使うメインテキストの名前を書く。

【こども】
maintextName = 'おれのてきすと.txt'
って書いたよせんせー。

【せんせー】
メインテキストの中になんか書いて、実行してみ。

【こども】
「わははのは」って書いたら「わははのは」って表示されたよせんせー。

【せんせー】
まあそーゆーことですよ。
そんな風にがしがしメインテキストを書いていけば完成します
おわり。

【こども】
おい。

【せんせー】
ハイ。
テキストを表示するだけならそれだけでいいけど、
画像を出したり音楽流したり音楽流したりいろいろしたいと思います。

【こども】
はいせんせー。

【せんせー】
まず使うファイルを全部用意しましょう。
とりあえず画像ね。全部imageフォルダに叩きこみます。

【こども】
なんでもいいのせんせー？

【せんせー】
jpgとpngくらいにしときなさい。
他の形式は試したことないから。

【こども】
アッハイ。

【せんせー】
音楽はsoundフォルダに入れましょう。
ただし注意があります。
ちょっとしたSEに使う短い音声はoggファイル、
BGMに使いたい長い音楽はmp3にします。

【こども】
はいせんせー。

【せんせー】
んで……もしフォントを変えたいっていうなら、
otherフォルダの中に入れましょう。
ただこれは全然テストしてないのでうまくいくかわかりまへん。

【こども】
今回はやめとくよせんせー。

【せんせー】
さて素材ファイルを準備したら、それらを読み込む設定をします。
DialogFrameConfig.py の設定を説明していきますよ。

【こども】
せんせー、開いたよ。

【せんせー】
imageConfには画像、
seConfにはSEに使うoggファイル、
bgmConfにはBGMに使うmp3の情報を書いてね。

【こども】
せんせー。
そういう簡単っつーかConfigファイルの中の説明文見りゃ
わかるやつより、パッと見わかんねーやつおなしゃす。

【せんせー】
ウッス。

【こども】
いつでも画像オープンって何？せんせー。

【せんせー】
ダイアログを見てるとき、対応したキーを
押せば表示できる画像を一枚設定できんだよ。
まあヘルプとかキャラシに使えばいいんじゃない？

【こども】
でもヘルプに関しては下のほうにそれ用の設定があるよ
せんせー？

【せんせー】
キャラシに使えばいいんじゃない？(ｷﾘｯ

【こども】
決め打ちすぎない？

【せんせー】
ところで座標を書く設定がいくつかあるけど、
それは全部画面左上の点を
(0,0)とした数値だから気をつけてね。

【こども】
えーとあとはー。
……。
つーかConfigファイルの中にめっちゃコメントで説明
書いてあるから解説いらなくない正直？せんせー？

【せんせー】
ぶっちゃけいらんね。
じゃいくつか注意点だけ。

【せんせー】
最後のキーコンフィグに関してだけど、
ここを編集して使えるキーを増やすことはできねー。
用意してあるキーを入れ替えるのにだけ使ってね。

【こども】
やったーConfigの設定が終わったよせんせー。
でも設定した画像ってどうやって呼び出すのせんせー？

【せんせー】
それは最初に作ったメインテキストでおこなうよ。
ふつーに文章をかいた行はダイアログの文章として扱われるけど、
イベントタグを書いた行は画像出したり音楽流したり
できるのだよ。

【こども】
せんせー。
今頃になって、「おれのてきすと.txt」って名前が
恥ずかしくなってきたよ。

【せんせー】
それはしらねえ。

【せんせー】
イベントタグは <event name= から始まる行のことだよ。
画像や音楽を呼び出す以外にも、
ダイスロールの演出とかがあるよ

<event name=dice skill="目星" result=5 x=25 y=325>

【せんせー】
みたいなことができるよ。

【せんせー】
もし新しい機能を足すことになったら、
根本的なところを修正するのは大変だから、
新しいイベントタグを実装していくかたちになるかもしれないね。

【せんせー】
まあ見本はmaintextフォルダに入ってるテキストを参考にして。
このチュートリアルのテキストでもいいし、
「罪の身代わり」なんかは結構使ってるから。

【こども】
これに注意点はないのせんせー？

【せんせー】
まず同じ行にふたつ以上のタグは書けないよ。

【こども】
じゃあふたつの画像を同じときに出したいなら
どうすればいいのせんせー？

【せんせー】
その下の行に続けて書きなさい。
メインテキストでは、上下に続いた行は
同じ瞬間に処理するパラグラフとして扱われるからね。
そんでZキーでパラグラフを下へ下へと移動していきます。
あ、Zキーはデフォルト設定の場合ね。

【こども】
ダイアログを一番最後まで進めたら
オープニングの画面に戻っちゃうんだけどせんせー。
これ変えられないの？

【せんせー】
それは残念ながら変えられないぜ。
なんならDialogFrame.pyのプログラムを修正してもらって
出来るようにしてもらっても構わないよ。

【こども】
いや無理じゃね？(怒)

【せんせー】
うん無理だよね。(笑)

【せんせー】
したら作者に要望だしてみなさい。

【こども】
あ、別にそこまで欲しいわけじゃないんで…。

【せんせー】
あ、そうでしたかこれはどうも…。

【こども】
あ、いえこちらこそなんか…。

【こども】
他にできないことはあるの、せんせー？

【せんせー】
えっ、いやできないことを訊かれても無限にありますが…
そうだなあ。
オープニング画面で使ってるような、画像を揺らすだけの
簡単なアニメーションはあるけど、
もうちょっと複雑なアニメーションはできないね。

【せんせー】
それと、大きなサイズの画像を裁断して
ひとつひとつの画像にしたり、
長い音声ファイルを裁断して流したりもできないね。

【こども】
とても伸びしろのあるフレームワークですね。

【せんせー】
お気遣いありがとうございます…。

【せんせー】
おっと！ひとつ大切なことを忘れてたよ。
もしセーブとロードを使いたいなら、Configファイルの
useSave項目をTrueにした上で、
otherフォルダの (新品)save.sqlite3 の
(新品) を外して使ってね。

【せんせー】
ひとつのダイアログで作ったセーブは
そのダイアログでしか使えないからね。
そのセーブを別のダイアログプレイ中に
ロードすると多分エラーで落ちちゃうよ。

【こども】
フゥ…いくつのerror.txtを送りつければいいんですかねえ。

【せんせー】
いや、原因が明白な場合は自分でなんとかしてくれます…？

【こども】
わかったよせんせー！
これでぼくも自分だけのダイアログを作れるね！

【せんせー】
その通りじゃいいこと言った！

【こども】
ぼくたちのダイアログ道は！

【せんせー】【こども】
これからだ！！

<event name=image file="lecturer.png" remove>
<event name=image file="pupil.png" remove>
質問はブログかツイッターまでどーぞ。

Zキーではじめに戻ります。